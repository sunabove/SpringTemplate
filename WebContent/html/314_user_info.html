<!doctype html>

<head th:replace="021_layout_html_head.html">
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> My Board </title>
    <meta name="description" content="" />
    <link rel="icon" href="../rsc/board-custom/img/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="../rsc/board-custom/img/favicon.ico" type="image/x-icon" />
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link  rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/3.0.0/css/ionicons.css">
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
        crossorigin="anonymous">
        
    <link rel="stylesheet" id="bsdp-css" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" >
    
    <link rel="stylesheet" href="../rsc/bootstrap-theme/theme.css">
    <link rel="stylesheet" href="../rsc/bootstrap-theme/template.css">
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  	
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/locales/bootstrap-datepicker.kr.min.js" charset="UTF-8"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>

    <script src="../rsc/board-custom/js/js_001_basic_common.js"></script>
    <script src="../rsc/board-custom/js/js_010_psdr_common.js"></script>
</head>

<body>

	<nav th:replace="022_layout_header.html :: header_01" class="navbar fixed-top navbar-expand-lg bg-primary text-center p-0 ">
	</nav>

	<main>
		<!-- content -->

		<section class="container" style=" margin-top:40px; margin-bottom: 50px;">

			<div class="row bg-info rouded">
				<div class="col-12">
					<a class="navbar-brand font-weight-bold text-dark " href="#">
						<i class="fas fa-bars d-inline-block"></i>&nbsp;
						<p class="m-0 pt-1  d-inline-block">사용자 정보 변경</p>
					</a>
				</div>
			</div>

			<div class="row">

				<div class="col-md-12 mt-4 ">
					<div class="col-7 flex-nowrap justify-content-between align-items-center m-auto h-auto pb-2">
						<div class="card flex-md-row mb-4 shadow-sm h-md-250 bg-light p-0">
							<div class="card-body d-flex flex-column ">
								<form class=" p-3 py-4 ">
									<div class="form-group pb-3 text-primary">
										&nbsp;
										<i class="far fa-user"></i> &nbsp;
										<label>아이디</label>
										<input th:value="${ loginUser.userId }" id="user_id" class="form-control bg-secondary" placeholder="아이디" readonly />
									</div>

									<div class="form-group pb-3 text-primary">
										&nbsp;
										<i class="far fa-envelope"></i> &nbsp;
										<label>이메일</label>
										<input th:value="${ loginUser.email }" id="user_email" name="user_email" type="text" class="form-control" placeholder="이메일 주소"
										/>
										<small id="user_email_error" class="ml-4">
											이메일 주소를 입력하세요.
										</small>
									</div>
									<div class="form-group pb-3">
										<div class="text-primary">
											&nbsp;
											<i class="fas fa-key"></i> &nbsp;
											<label for=" text-white">암호</label>
										</div>
										<input id="user_pass" name="user_pass" type="password" class="form-control" placeholder="암호" />
										<small id="user_pass_error" class="ml-4">
											6자리 이상의 알파벳 숫자를 조합하여야 합니다.
										</small>
									</div>

									<div class="form-group pb-3">
										<div class="text-danger">
											&nbsp;
											<i class="fas fa-key"></i> &nbsp;
											<label>암호 확인</label>
										</div>
										<input id="user_pass_confirm" type="password" class="form-control" placeholder="암호 확인" />
										<small id="user_pass_confirm_error" class="ml-4">
										</small>
									</div>

									<div class="row justify-content-center">
										<div class="col text-center">
											<button type="submit" class="btn btn-primary btn-block ">
												<i class="fas fa-check ml-2"></i> &nbsp; 저장
											</button>
										</div>
										<div class="col text-center">
											<a th:href="${ referrer }" role="button" class="btn btn-secondary ">
												<i class="fas fa-arrow-left ml-2"></i> &nbsp; 취소 &nbsp;
											</a>
										</div>
									</div>

								</form>

							</div>
						</div>
					</div>
				</div>
			</div>

		</section>

	</main>

	<footer th:replace="024_layout_footer.html" class="bg-dark text-center">
	</footer>

	<div th:replace="020_layout_common.html :: footer_include_01">
	</div>

	<script>
		$(function () {
			var dbg = true;
			dbg && debug("Hello....")

			//$("#user_id_error").html("")
			//$("#user_pass_error").html("")
		});

		function validateSubmitForm() {

			valid = true;

			$("#user_email, #user_pass, #user_pass_confirm").removeClass("border-danger")
			$("#user_email_error, #user_pass_error, #user_pass_confirm_error").removeClass("text-danger")

			$("#user_email, #user_pass_error, #user_pass_confirm_error").html("")

			var user_email = $("#user_email").val().trim();
			var user_pass = $("#user_pass").val().trim();
			var user_pass_confirm = $("#user_pass_confirm").val().trim();

			if (1 > user_email.length) {
				valid = false;

				$("#user_email_error").html("이메일 주소를 입력하세요.")

				$("#user_email_error").addClass("text-danger")
				$("#user_email").addClass("border-danger")
			} else if (!isValidEmail(user_email)) {
				valid = false;

				$("#user_email_error").html("잘못된 이메일 주소 형식입니다.")

				$("#user_email_error").addClass("text-danger")
				$("#user_email").addClass("border-danger")
			}

			if (!valid || user_pass == user_pass_confirm) {
				// do nothing!
			} else if (1 > user_pass.length) {
				valid = false;

				$("#user_pass_error").html("암호를 입력하세요.")

				$("#user_pass_error").addClass("text-danger")
				$("#user_pass").addClass("border-danger")
			} else if (6 > user_pass.length) {
				valid = false;

				$("#user_pass_error").html("암호는 6자리 이상입니다.")

				$("#user_pass_error").addClass("text-danger")
				$("#user_pass").addClass("border-danger")
			} else if (1 > user_pass_confirm.length) {
				valid = false;

				$("#user_pass_confirm_error").html("확인 암호를 입력하세요!")

				$("#user_pass_confirm_error").addClass("text-danger")
				$("#user_pass_confirm").addClass("border-danger")
			} else if (6 > user_pass_confirm.length) {
				valid = false;

				$("#user_pass_confirm_error").html("확인 암호는 6자리 이상입니다.")

				$("#user_pass_confirm_error").addClass("text-danger")
				$("#user_pass_confirm").addClass("border-danger")
			}

			return valid;
		}
	</script>

</body>

</html>